<h1>Users</h1>

<!-- 搜索框区域 -->
<div class="row mb-3">
  <div class="col-lg-6">
    <div class="input-group">
      <!-- 绑定到 searchControl，输入变化会触发 valueChanges -->
      <input type="search" class="form-control" placeholder="Search for..." [formControl]="searchControl">
      <span class="input-group-btn">
        <button class="btn btn-primary" (click)="add()">Add</button>
        <button class="btn btn-primary" (click)="Search()">Search</button>
      </span>
    </div>
  </div>
</div>

<!-- 用户表格 -->
<table class="table table-bordered">
  <thead>
    <tr>
      <th>User</th>
      <th>Email</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
    <!-- 遍历 filteredUsers（注意 | async 管道自动订阅 Observable） -->
    <tr *ngFor="let user of filteredUsers | async">
      <td>{{ user.data.name }}</td>
      <td>{{ user.data.email }}</td>
      <td><a [routerLink]="['/add', user.id]"><i class="glyphicon glyphicon-edit"></i></a></td>
      <td><a (click)="delete(user.id, user.data.name)"><i class="glyphicon glyphicon-remove"></i></a></td>
    </tr>
  </tbody>
</table>
