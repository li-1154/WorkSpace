<!-- ğŸ”¹ Content Area -->
<div class="content-area">

  <!-- ğŸ” æœç´¢ + æ–°å»º -->
  <div class="toolbar">
    <div class="search-wrapper">
      <input type="text" class="search-input" placeholder="æœç´¢å•†å“åç§°ã€ç¼–å·..." [(ngModel)]="searchKeyword"
        (input)="applyFilter()" />
    </div>

    <!-- available ç­›é€‰ -->
    <div class="filter-wrapper">
      <select class="search-input select-like" [(ngModel)]="availabilityFilter" (change)="applyFilter()">
        <option value="all">å…¨éƒ¨</option>
        <option value="unavailable">åœç”¨å•†å“</option>
        <option value="available">å¯ç”¨å•†å“</option>
      </select>
    </div>
    <button class="add-btn" (click)="addProduct()">ï¼‹</button>
  </div>

  <!-- ğŸ”¹ å•†å“å¡ç‰‡ -->
  <div class="product-card" *ngFor="let item of paginatedProducts" (click)="toggleSelect(item.id)">

    <div class="row">

      <!-- å·¦ä¾§ï¼šå›¾ç‰‡ + ç¼–å· -->
      <div class="left">
        <img *ngIf="item.imageUrl; else noImg" [src]="getThumbUrl(item.imageUrl)" class="thumb" />
        <ng-template #noImg>
          <div class="thumb no-img">æ— å›¾</div>
        </ng-template>

        <span class="code">{{ item.code }}</span>
        <span class="code"> {{ item.available ? 'ğŸ”„ å¯ç”¨': 'â›” åœç”¨' }} </span>
      </div>

      <!-- å³ä¾§ï¼šä¿¡æ¯ -->
      <div class="right-info">

        <div class="info-row">
          <span>åç§°ï¼š</span><strong>{{ item.name }}</strong>
        </div>

        <div class="info-row double">
          <div class="left-side">
            <span>JANï¼š</span>{{ item.janId }}
          </div>
          <div class="right-side">
            <span>å‹å·:</span>{{ item.modleName }}
          </div>
        </div>


        <div class="info-row double">
          <div class="left-side">
            <span>åˆ†ç±»ï¼š</span>{{ item.categoryName }}
          </div>
          <div class="right-side">
            <span>é¢œè‰²ï¼š</span>{{ item.colorName }}
          </div>
        </div>
        <div class="info-row double">
          <div class="left-side">
            <span>è¿›è´§ä»·ï¼š</span>Â¥{{ item.costPrice }}
          </div>
          <div class="right-side">
            <span>é”€å”®ä»·ï¼š</span><strong class="highlight">Â¥{{ item.salePrice }}</strong>
          </div>
        </div>


      </div>

      <!-- æ“ä½œæŒ‰é’® -->
      <div class="actions" *ngIf="selectedItemId === item.id">
        <button class="btn-edit" (click)="editProduct(item.id)">âœ ç¼–è¾‘</button>
        <button class="btn-edit" (click)="toggleStatus(item)">
          {{ item.available ? 'â›” åœç”¨' : 'ğŸ”„ å¯ç”¨' }}
        </button>

      </div>
    </div>
  </div>
</div>

<div class="stock-pagination">
  <button (click)="currentPage = currentPage - 1" [disabled]="currentPage === 1">
    Â« ä¸Šä¸€é¡µ
  </button>

  <ng-container *ngFor="let item of paginationItems">
    <button *ngIf="item !== '...'" class="page-btn" [class.active]="item === currentPage" (click)="goToPage(item)">
      {{ item }}
    </button>

    <span *ngIf="item === '...'" class="dots">â€¦</span>
  </ng-container>


  <button (click)="currentPage = currentPage + 1" [disabled]="currentPage === totalPages">
    ä¸‹ä¸€é¡µ Â»
  </button>

  <!-- é¡µæ•°ä¿¡æ¯ -->
  <span class="page-info">
    å…± {{ totalPages }} é¡µ
  </span>

  <!-- è·³è½¬ -->
  <span class="jump">
    åˆ°ç¬¬
    <input type="number" min="1" [max]="totalPages" [(ngModel)]="jumpPage">
    é¡µ
    <button (click)="goToPage(jumpPage)">ç¡®å®š</button>
  </span>
</div>