<div class="inventory-page">

  <!-- ğŸ”¹ Tabs -->
  <div class="inventory-tabs">
    <div class="tab" [class.active]="currentTab === 'products'" (click)="currentTab = 'products'">ğŸ“¦ å•†å“ä¿¡æ¯</div>
    <div class="tab" [class.active]="currentTab === 'stock'" (click)="currentTab = 'stock'">ğŸ“š åœ¨åº“ä¿¡æ¯</div>
    <div class="tab" [class.active]="currentTab === 'sales'" (click)="currentTab = 'sales'">ğŸ“Š è´©å–åˆ†æ</div>
  </div>


  <div *ngIf="currentTab === 'products'">


    <!-- ğŸ”¹ Content Area -->
    <div class="content-area">

      <!-- ğŸ” æœç´¢ + æ–°å»º -->
      <div class="toolbar">
        <div class="search-wrapper">
          <input type="text" class="search-input" placeholder="æœç´¢å•†å“åç§°ã€ç¼–å·..." (input)="applyFilter($event)" />
        </div>

        <button class="add-btn" (click)="addProduct()">ï¼‹</button>
      </div>

      <!-- ğŸ”¹ å•†å“å¡ç‰‡ -->
      <div class="product-card" *ngFor="let item of filteredProducts" (click)="toggleSelect(item.id)">

        <div class="row">

          <!-- å·¦ä¾§ï¼šå›¾ç‰‡ + ç¼–å· -->
          <div class="left">
            <img *ngIf="item.imageUrl; else noImg" [src]="getThumbUrl(item.imageUrl)" class="thumb" />
            <ng-template #noImg>
              <div class="thumb no-img">æ— å›¾</div>
            </ng-template>

            <span class="code">{{ item.code }}</span>
            <br>
            <span class="code"> {{ item.available ? 'ğŸ”„ å¯ç”¨': 'â›” åœç”¨' }} </span>
          </div>

          <!-- å³ä¾§ï¼šä¿¡æ¯ -->
          <div class="right-info">

            <div class="info-row">
              <span>åç§°ï¼š</span><strong>{{ item.name }}</strong>
            </div>

            <div class="info-row">
              <span>JANï¼š</span>{{ item.janId }}
            </div>

            <div class="info-row double">
              <div class="left-side">
                <span>åˆ†ç±»ï¼š</span>{{ item.categoryName }}
              </div>
              <div class="right-side">
                <span>é¢œè‰²ï¼š</span>{{ item.colorName }}
              </div>
            </div>


            <div class="info-row">
              <span>è¿›è´§ä»·ï¼š</span>Â¥{{ item.costPrice }}
            </div>

            <div class="info-row">
              <span>é”€å”®ä»·ï¼š</span><strong class="highlight">Â¥{{ item.salePrice }}</strong>
            </div>

          </div>

          <!-- æ“ä½œæŒ‰é’® -->
          <div class="actions" *ngIf="selectedItemId === item.id">
            <button class="btn-edit" (click)="editProduct(item.id)">âœ ç¼–è¾‘</button>
            <button class="btn-edit" (click)="toggleStatus(item)">
              {{ item.available ? 'â›” åœç”¨' : 'ğŸ”„ å¯ç”¨' }} 
            </button>

          </div>
        </div>

      </div>

    </div>

  </div>






  <!-- ğŸ“š åœ¨åº“ç®¡ç† -->
  <div *ngIf="currentTab === 'stock'">
    <div class="container py-3">
      <h4>ğŸ“š åœ¨åº“ç®¡ç†ï¼ˆå¼€å‘ä¸­ï¼‰</h4>
    </div>
  </div>

  <!-- ğŸ“Š è´©å–æ•°æ® -->
  <div *ngIf="currentTab === 'sales'">
    <div class="container py-3">
      <h4>ğŸ“Š è´©å–æ•°æ®ï¼ˆå¼€å‘ä¸­ï¼‰</h4>
    </div>
  </div>



</div>