<div class="inventory-page">

  <!-- 🔹 Tabs -->
  <div class="inventory-tabs">
    <div class="tab" [class.active]="currentTab === 'products'" (click)="currentTab = 'products'">📦 商品信息</div>
    <div class="tab" [class.active]="currentTab === 'stock'" (click)="currentTab = 'stock'">📚 在库信息</div>
    <div class="tab" [class.active]="currentTab === 'sales'" (click)="currentTab = 'sales'">📊 贩卖分析</div>
  </div>


  <div *ngIf="currentTab === 'products'">


    <!-- 🔹 Content Area -->
    <div class="content-area">

      <!-- 🔍 搜索 + 新建 -->
      <div class="toolbar">
        <div class="search-wrapper">
          <input type="text" class="search-input" placeholder="搜索商品名称、编号..." (input)="applyFilter($event)" />
        </div>

        <button class="add-btn" (click)="addProduct()">＋</button>
      </div>

      <!-- 🔹 商品卡片 -->
      <div class="product-card" *ngFor="let item of filteredProducts">

        <div class="row">

          <!-- 左侧：图片 + 编号 -->
          <div class="left">
            <img *ngIf="item.imageUrl; else noImg" [src]="getThumbUrl(item.imageUrl)" class="thumb" />
            <ng-template #noImg>
              <div class="thumb no-img">无图</div>
            </ng-template>

            <span class="code">{{ item.code }}</span>
          </div>

          <!-- 右侧：信息 -->
          <div class="right-info">
            <div class="info-row">
              <span>名称：</span><strong>{{ item.name }}</strong>
            </div>
            <div class="info-row">
              <span>JAN：</span>{{ item.janId }}
            </div>
            <div class="info-row">
              <span>分类：</span>{{ item.categoryName }}
            </div>
            <div class="info-row">
              <span>颜色：</span>{{ item.colorName }}
            </div>
            <div class="info-row">
              <span>进货价：</span>¥{{ item.costPrice }}
            </div>
            <div class="info-row">
              <span>销售价：</span><strong style="color:#2563eb">¥{{ item.salePrice }}</strong>
            </div>
          </div>


        <!-- 操作按钮 -->
        <div class="actions">
          <button class="btn-edit" (click)="editProduct(item.id)">✏ 编辑</button>
          <button class="btn-delete" (click)="delete(item)">🗑 删除</button>
        </div>
      </div>

    </div>

  </div>

</div>






<!-- 📚 在库管理 -->
<div *ngIf="currentTab === 'stock'">
  <div class="container py-3">
    <h4>📚 在库管理（开发中）</h4>
  </div>
</div>

<!-- 📊 贩卖数据 -->
<div *ngIf="currentTab === 'sales'">
  <div class="container py-3">
    <h4>📊 贩卖数据（开发中）</h4>
  </div>
</div>



</div>